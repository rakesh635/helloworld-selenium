podTemplate(label: "mypod", 
                    cloud: "openshift", 
                    inheritFrom: "maven", 
                    containers: [
            containerTemplate(name: "jnlp", 
                              image: "registry.redhat.io/openshift4/ose-jenkins-agent-maven", 
                              resourceRequestMemory: "512Mi", 
                              resourceLimitMemory: "512Mi", 
                              envVars: [

            ])
          ]) {
          node("mypod") { 
            //sh "git clone https://github.com/openshift/openshift-jee-sample.git ."
            stage('checkout') {
              sh "pwd"
              sh "ls"
              sh "git clone --branch openshift https://github.com/rakesh635/helloworld-selenium.git ."
            }
            stage("Maven build") {
              sh "mvn -B -Popenshift package"
            }
            stage("Openshift deploy")
            {
              sh "oc start-build -F wildfly --from-file=target/ROOT.war -n rakesh635-test"
            }  
            stage("Dummy Web Regression Test")
            {
              sh "oc start-build -F wildfly --from-file=target/ROOT.war -n rakesh635-test"
            } 
            stage("Dummy API Regression Test")
            {
              sh "oc start-build -F wildfly --from-file=target/ROOT.war -n rakesh635-test"
            } 
            stage("Dummy Desktop Regression Test")
            {
              sh "oc start-build -F wildfly --from-file=target/ROOT.war -n rakesh635-test"
            } 
            stage("Dummy Performance Test")
            {
              sh "oc start-build -F wildfly --from-file=target/ROOT.war -n rakesh635-test"
            } 
          }
        }
